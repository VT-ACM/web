<!--
    Copyright 2013 ACM of Virginia Tech

    Licensed under the Apache License, Version 2.0 (the "License");
    you may not use this file except in compliance with the License.
    You may obtain a copy of the License at

        http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.
-->

<html>

    <head>
        <title>Virginia Tech: Association for Computing Machinery</title>
        <meta charset="utf-8" />

        <link rel="stylesheet" href="css/style.css" type="text/css" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />

        <!-- Attempt to load events -->
        <script src="scripts/acm_calendar.js"></script>
        <script type="text/javascript">
            var updateEventType = function (newTitle) {
                var eventTitle = document.getElementById("event-title");
                eventTitle.innerHTML = newTitle;
            };

            var getEvents = function () {
                var calendarId = "vt.edu_gd2sbcgh98g7f7871t5i9j2fgo@group.calendar.google.com";
                var apiKey = "AIzaSyAx4gQ1Fzar0yc1LxOpJV3MuerouZCnz-4";
                
                var calendar = acmCalendar(calendarId, apiKey);

                calendar.getFutureEvents(5, function (contents) {
                    var eventsContainer = document.getElementById("events-container");
                    eventsContainer.innerHTML = "";

                    var headerElement = document.createElement("h2");
                    var titleElement = document.createElement("div");
                    headerElement.appendChild(titleElement);
                    titleElement.id = "event-title";
                    titleElement.innerHTML = "Events";

                    var listContainer = document.createElement("ul");

                    /* Old browsers don't support forEach */
                    for (var i = 0; i < contents.length; ++i) {
                        var listElement = document.createElement("li");
                        var contentElement = document.createElement("a");
                        var dateElement = document.createElement("span");

                        var eventLocation = contents[i].location;
                        listElement.title = "Location: " + eventLocation;
                        listElement.onmouseover = (function (loc) {
                            function updateTitle() {
                                titleElement.innerHTML = "Events - " + loc;
                            };

                            return updateTitle;
                        })(eventLocation);
                        listElement.onmouseout = function () {
                            titleElement.innerHTML = "Events";
                        };

                        dateElement.innerHTML = contents[i].dateTime;
                        contentElement.appendChild(dateElement);

                        contentElement.href = "#";
                        contentElement.innerHTML += " - " + contents[i].summary;

                        listElement.appendChild(contentElement);
                        listContainer.appendChild(listElement);
                    }

                    eventsContainer.appendChild(headerElement);
                    eventsContainer.appendChild(listContainer);
                });
            };
        </script>
    </head>

    <body class="body" onload="getEvents();">
        
        <header class="header main">
            <div>
                <!-- Logo image to display on the website -->
                <img src="img/acm_pylons_640_488.gif" />

                <!-- Will hold future events -->
                <aside id="events-container"><h2><div>Events</div></h2><span style="color:#FFFFFF;padding:0 5%;">Loading...</span></div>
            </div>

            <!-- HTML5 navigation links for our menu -->
            <nav>
                <ul>
                    <li class="active"><a href="#">Home</a></li>
                    <li><a href="#">News</a></li>
                    <li><a href="#">Officers</a></li>
                    <li><a href="#">Membership</a></li>
                    <li><a href="#">Contact</a></li>
                </ul>
            </nav>
        </header>


        <div class="content main">
            <!-- The first article to display -->
            <article class="content post">
                <!-- HTML5 tag for the title of the article -->
                <header>
                    <h2><a href="#" title="First post">First post</a></h2>
                </header>

                <!-- Used for SEO purposes inside the article -->
                <footer>
                    <p class="post-info">This post was written by Chip Senkbeil</p>
                </footer>

                <!-- The content of the article -->
                <content>
                    <p>
                        Lorem ipsum dolor sit amet, consectetur adipisicing 
                        elit, sed do eiusmod tempor incididunt ut labore et 
                        dolore magna aliqua. Ut enim ad minim veniam, quis 
                        nostrud exercitation ullamco laboris nisi ut aliquip 
                        ex ea commodo consequat. Duis aute irure dolor in 
                        reprehenderit in voluptate velit esse cillum dolore 
                        eu fugiat nulla pariatur. Excepteur sint occaecat 
                        cupidatat non proident, sunt in culpa qui officia 
                        deserunt mollit anim id est laborum.
                    </p>
                    <p>
                        Lorem ipsum dolor sit amet, consectetur adipisicing 
                        elit, sed do eiusmod tempor incididunt ut labore et 
                        dolore magna aliqua. Ut enim ad minim veniam, quis 
                        nostrud exercitation ullamco laboris nisi ut aliquip 
                        ex ea commodo consequat. Duis aute irure dolor in 
                        reprehenderit in voluptate velit esse cillum dolore 
                        eu fugiat nulla pariatur. Excepteur sint occaecat 
                        cupidatat non proident, sunt in culpa qui officia 
                        deserunt mollit anim id est laborum.
                    </p>
                </content>
            </article>

            <!-- The second article to display -->
            <article class="content post">
                <!-- HTML5 tag for the title of the article -->
                <header>
                    <h2><a href="#" title="Second post">Second post</a></h2>
                </header>

                <!-- Used for SEO purposes inside the article -->
                <footer>
                    <p class="post-info">This post was written by Chip Senkbeil</p>
                </footer>

                <!-- The content of the article -->
                <content>
                    <p>
                        Lorem ipsum dolor sit amet, consectetur adipisicing 
                        elit, sed do eiusmod tempor incididunt ut labore et 
                        dolore magna aliqua. Ut enim ad minim veniam, quis 
                        nostrud exercitation ullamco laboris nisi ut aliquip 
                        ex ea commodo consequat. Duis aute irure dolor in 
                        reprehenderit in voluptate velit esse cillum dolore 
                        eu fugiat nulla pariatur. Excepteur sint occaecat 
                        cupidatat non proident, sunt in culpa qui officia 
                        deserunt mollit anim id est laborum.
                    </p>
                    <p>
                        Lorem ipsum dolor sit amet, consectetur adipisicing 
                        elit, sed do eiusmod tempor incididunt ut labore et 
                        dolore magna aliqua. Ut enim ad minim veniam, quis 
                        nostrud exercitation ullamco laboris nisi ut aliquip 
                        ex ea commodo consequat. Duis aute irure dolor in 
                        reprehenderit in voluptate velit esse cillum dolore 
                        eu fugiat nulla pariatur. Excepteur sint occaecat 
                        cupidatat non proident, sunt in culpa qui officia 
                        deserunt mollit anim id est laborum.
                    </p>
                </content>
            </article>
        </div>

        <footer class="footer main">
            <p>&copy; 2013 ACM of Virginia Tech | 
                designed and developed by 
                <a href="http://www.senkbeil.org">
                    Chip Senkbeil
                </a> | 
                logo created by 
                <a href="http://gwensketches.blogspot.com/">
                    Gwen Sewell
                </a>
            </p>
            <!--
            <p>
                <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/deed.en_US"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-nc-sa/3.0/80x15.png" /></a>
            </p>
            -->
        </footer>

    </body>

</html>

