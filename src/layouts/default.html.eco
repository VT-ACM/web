<!DOCTYPE html>
<!--
    Copyright 2013 ACM of Virginia Tech

    Licensed under the Apache License, Version 2.0 (the "License");
    you may not use this file except in compliance with the License.
    You may obtain a copy of the License at

        http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.
-->

<html lang="en">

    <!-- Load stylesheets and create metadata -->
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="content-type" content="text/html; charset=utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />

        <!-- Our site title and description -->
        <title><%= @getPreparedTitle() %></title>
        <meta name="description" content="<%= @getPreparedDescription() %>" />
        <meta name="keywords" content="<%= @getPreparedKeywords() %>" />
        <meta name="author" content="<%= @site.author or '' %>" />

        <!-- Output DocPad produced meta elements -->
        <%- @getBlock('meta').toHTML() %>

        <!-- Font awesome link -->
        <link href="//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css" 
              rel="stylesheet">

        <!-- Load all styles -->
        <%- @getBlock('styles').add(@site.styles).toHTML() %>
    </head>

    <!-- Construct navigation, gather content, construct footer, and load scripts -->
    <body class="body" onload="getEvents();">

        <!-- Contains navigation links, the events (generated by Javascript), and our logo -->
        <header class="header main">
            <div>
                <!-- Logo image to display on the website -->
                <img src="/images/acm_pylons_640_488.gif" />

                <!-- Will hold future events -->
                <aside id="events-container"><h2><div>Events</div></h2><span style="color:#FFFFFF;padding:0 5%;">Loading...</span></div>
            </div>

            <!-- HTML5 navigation links for our menu -->
            <nav>
                <ul>
                    <!-- Retrieve all of our pages and add them as navigation links -->
                    <% for document in @getCollection('pages').toJSON(): %>
						<li typeof="sioc:Page" about="<%= document.url %>" class="<%= 'active'  if @document.url is document.url %>">
							<a href="<%= document.url %>" property="dc:title"><%= document.title %></a>
						</li>
					<% end %>
                </ul>
            </nav>
        </header>


        <!-- Contains the content for this page -->
        <div class="content main">
            <%- @content %>
        </div>

        <!-- The footer to display credit and copyright -->
        <footer class="footer main">
            <p>
                &copy; <%- (new Date()).getFullYear() %>  ACM of Virginia Tech |
                designed and developed by 
                <a href="http://www.senkbeil.org">
                    Chip Senkbeil
                </a> |
                logo created by 
                <a href="http://gwensketches.blogspot.com/">
                    Gwen Sewell
                </a> |
                <a href="https://www.facebook.com/vtech.acm">
                    <i class="icon-facebook-sign"></i>
                </a>
                <a href="https://twitter.com/vtacm">
                    <i class="icon-twitter-sign"></i>
                </a>
            </p>
        </footer>

        <!-- Load all scripts -->
        <%- @getBlock('scripts').add(@site.scripts).toHTML() %>
        <script type="text/javascript">
            function getEvents() {
                acmCore(document).loadEvents();
            }
        </script>

    </body>

</html>

